<h1>My Page</h1>

<div *ngIf="auth.user$ | async as user; else loggedOut" class="user-card">
  <ng-container *ngIf="profile$ | async as profile; else loadingProfile">
    <p>
      Hi,
      <strong>
        {{ profile?.username || user.email }}
      </strong>
      ğŸ‘‹
    </p>

    <ul>
      <li><strong>Email:</strong> {{ user.email }}</li>
      <li><strong>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒãƒ¼ãƒ :</strong> {{ profile?.username }}</li>
      <li><strong>ç”Ÿå¹´æœˆæ—¥:</strong> {{ profile?.birthday | date:'yyyy/MM/dd' }}</li>
      <li><strong>å¹´é½¢:</strong> {{ profile?.age }} æ­³</li>
      <li><strong>ç™»éŒ²æ—¥:</strong>{{ profile?.created_at | date:'yyyy/MM/dd' }}</li>
    </ul>

    <div class="action-buttons">
      <a [routerLink]="['/listing']" [queryParams]="{ mine: true }">
        è‡ªåˆ†ã®æŠ•ç¨¿ã‚’è¦‹ã‚‹
      </a>
      <a routerLink="/posting">æ–°ã—ã„æŠ•ç¨¿ã‚’ä½œã‚‹</a>
      <a routerLink="/update-password" class="password-change-link">ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¤‰æ›´</a>
    </div>
  </ng-container>

  <ng-template #loadingProfile>
    <p>ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«èª­ã¿è¾¼ã¿ä¸­...</p>
  </ng-template>
</div>

<ng-template #loggedOut>
  <div class="logged-out">
    <p>ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã¾ã›ã‚“ã€‚</p>
  </div>
</ng-template>
