<div class="update-password-container">
  <h2>パスワードの変更</h2>
  <p class="subtitle">新しいパスワードを入力してください。</p>

  <div *ngIf="hasSession" class="auth-card">
    <form (ngSubmit)="onSubmit()" class="auth-form">
      <div class="field">
        <label for="password">新しいパスワード</label>
        <input
          id="password"
          type="password"
          name="password"
          [(ngModel)]="password"
          placeholder="8文字以上・英小文字・大文字・数字を含む"
          required
        />
        <p class="field-hint">8文字以上、英小文字・英大文字・数字をそれぞれ1文字以上含めてください。</p>
      </div>

      <div class="field">
        <label for="confirmPassword">新しいパスワード（確認）</label>
        <input
          id="confirmPassword"
          type="password"
          name="confirmPassword"
          [(ngModel)]="confirmPassword"
          placeholder="もう一度入力"
          required
        />
      </div>

      <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>
      <p *ngIf="successMessage" class="success-message">{{ successMessage }}</p>

      <div class="actions">
        <button type="submit" [disabled]="loading">
          {{ loading ? '変更中...' : 'パスワードを変更' }}
        </button>
      </div>
    </form>
  </div>

  <a routerLink="/mypage" class="back-link">← マイページに戻る</a>
</div>
